(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[972],{7471:function(e,o,a){Promise.resolve().then(a.bind(a,9034))},9034:function(e,o,a){"use strict";a.r(o),a.d(o,{default:function(){return i}});var t=a(7437),r=a(6910),n=a(2265),s=a(7908);function i(e){let{slug:o,partySize:a,date:i}=e,[l,b]=(0,n.useState)({bookerFirstName:"",bookerLastName:"",bookerPhone:"",bookerEmail:"",bookerOccasion:"",bookerRequest:""}),[c,u]=i.split("T"),[m,d]=(0,n.useState)(!0),[p,h]=(0,n.useState)(!1),{error:k,loading:g,createReservation:x}=function(){let[e,o]=(0,n.useState)(!1),[a,t]=(0,n.useState)(null);return{loading:e,error:a,createReservation:async e=>{let{slug:a,partySize:r,day:n,time:i,bookerFirstName:l,bookerLastName:b,bookerPhone:c,bookerEmail:u,bookerOccasion:m,bookerRequest:d,setDidBooK:p}=e;o(!0);try{let e=await s.Z.post("http://localhost:3000/api/restaurant/".concat(a,"/reserve"),{bookerFirstName:l,bookerLastName:b,bookerPhone:c,bookerEmail:u,bookerOccasion:m,bookerRequest:d},{params:{day:n,time:i,partySize:r}});return o(!1),p(!0),e.data}catch(e){o(!1),t(e.response.data.errorMessage)}}}}();(0,n.useEffect)(()=>l.bookerFirstName&&l.bookerLastName&&l.bookerEmail&&l.bookerPhone?d(!1):d(!0),[l]);let N=e=>{b({...l,[e.target.name]:e.target.value})},y=async()=>{await x({slug:o,partySize:a,time:u,day:c,bookerFirstName:l.bookerFirstName,bookerLastName:l.bookerLastName,bookerEmail:l.bookerEmail,bookerPhone:l.bookerPhone,bookerOccasion:l.bookerOccasion,bookerRequest:l.bookerRequest,setDidBooK:h})};return(0,t.jsx)("div",{className:"mt-10 flex flex-wrap justify-between w-[660px] ",children:p?(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:"You are all booked up"}),(0,t.jsx)("p",{children:"Enjoy your reservation"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"text",className:"border rounded p-3 w-80 mb-4 bg-white",placeholder:"First Name",value:l.bookerFirstName,name:"bookerFirstName",onChange:N}),(0,t.jsx)("input",{type:"text",className:"border rounded p-3 w-80 mb-4 bg-white",placeholder:"Last Name",value:l.bookerLastName,name:"bookerLastName",onChange:N}),(0,t.jsx)("input",{type:"text",className:"border rounded p-3 w-80 mb-4 bg-white",placeholder:"Phone number",value:l.bookerPhone,name:"bookerPhone",onChange:N}),(0,t.jsx)("input",{type:"text",className:"border rounded p-3 w-80 mb-4 bg-white",placeholder:"Email",value:l.bookerEmail,name:"bookerEmail",onChange:N}),(0,t.jsx)("input",{type:"text",className:"border rounded p-3 w-80 mb-4 bg-white",placeholder:"Occasion (optional)",value:l.bookerOccasion,name:"bookerOccasion",onChange:N}),(0,t.jsx)("input",{type:"text",className:"border rounded p-3 w-80 mb-4 bg-white",placeholder:"Requests (optional)",value:l.bookerRequest,name:"bookerRequest",onChange:N}),(0,t.jsx)("button",{disabled:m||g,className:"bg-red-600 w-full p-3 text-white font-bold rounded disabled:bg-gray-300",onClick:y,children:g?(0,t.jsx)(r.Z,{color:"inherit"}):"Complete reservation"}),(0,t.jsx)("p",{className:"mt-4 text-sm",children:"By clicking “Complete reservation” you agree to the OpenTable Terms of Use and Privacy Policy. Message & data rates may apply. You can opt out of receiving text messages at any time in your account settings or by replying STOP."})]})})}}},function(e){e.O(0,[583,971,69,744],function(){return e(e.s=7471)}),_N_E=e.O()}]);