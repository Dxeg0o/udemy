exports.id=217,exports.ids=[217],exports.modules={8337:(e,t,a)=>{Promise.resolve().then(a.bind(a,8510)),Promise.resolve().then(a.bind(a,5840))},9876:(e,t,a)=>{Promise.resolve().then(a.bind(a,5308))},4002:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,6840,23)),Promise.resolve().then(a.t.bind(a,8771,23)),Promise.resolve().then(a.t.bind(a,3225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,3982,23))},8510:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(5344),s=a(6506),n=a(3729),l=a(9447),o=a(5792);function i({inputs:e,handleChangeInput:t,isSignin:a}){return(0,r.jsxs)("div",{className:"",children:[a?null:(0,r.jsxs)("div",{className:"my-3 flex justify-between text-sm  ",children:[r.jsx("input",{type:"text",className:"border rounded p-2 py-3 w-[49%] bg-white text-black",placeholder:"First Name",value:e.firstName,onChange:t,name:"firstName"}),r.jsx("input",{type:"text",className:"border rounded p-2 py-3 w-[49%] bg-white text-black",placeholder:"Last Name",value:e.lastName,onChange:t,name:"lastName"})]}),r.jsx("div",{className:"my-3 flex justify-between text-sm",children:r.jsx("input",{type:"text",className:"border rounded p-2 py-3 w-full bg-white text-black",placeholder:"Email",value:e.email,onChange:t,name:"email"})}),a?null:(0,r.jsxs)("div",{className:"my-3 flex justify-between text-sm",children:[r.jsx("input",{type:"text",className:"border rounded p-2 py-3 w-[49%] bg-white text-black",placeholder:"Phone",value:e.phone,onChange:t,name:"phone"}),r.jsx("input",{type:"text",className:"border rounded p-2 py-3 w-[49%] bg-white text-black",placeholder:"City",value:e.city,onChange:t,name:"city"})]}),r.jsx("div",{className:"my-3 flex justify-between text-sm",children:r.jsx("input",{type:"text",className:"border rounded p-2 py-3 w-full bg-white text-black",placeholder:"Password",value:e.password,onChange:t,name:"password"})})]})}var d=a(3608),c=a(1356),u=a(5840);let x=()=>{let{data:e,error:t,loading:a,setAuthState:r}=(0,n.useContext)(u.AuthenticationContext);return{signin:async({email:e,password:t},a)=>{r({data:null,error:null,loading:!0});try{let s=await d.Z.post("http://localhost:3000/api/auth/signin",{email:e,password:t});console.log(s),r({data:s.data,error:null,loading:!1}),a()}catch(e){r({data:null,error:e.response.data.errorMessage,loading:!1})}},signup:async({email:e,password:t,firstName:a,lastName:s,phone:n,city:l},o)=>{r({data:null,error:null,loading:!0});try{let i=await d.Z.post("http://localhost:3000/api/auth/signup",{email:e,password:t,firstName:a,lastName:s,phone:n,city:l});console.log(i),r({data:i.data,error:null,loading:!1}),o()}catch(e){r({data:null,error:e.response.data.errorMessage,loading:!1})}},signout:()=>{(0,c.deleteCookie)("jwt"),r({data:null,error:null,loading:!1})}}};var m=a(4504),h=a(3529);let p={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4};function g({isSignin:e}){let[t,a]=(0,n.useState)(!1),s=()=>a(!1),{signin:d,signup:c}=x(),{loading:g,data:b,error:f}=(0,n.useContext)(u.AuthenticationContext),y=(t,a)=>e?t:a,[j,v]=(0,n.useState)({firstName:"",lastName:"",email:"",phone:"",city:"",password:""}),[w,N]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{if(e){if(j.password&&j.email)return N(!1)}else if(j.firstName&&j.lastName&&j.email&&j.password&&j.password&&j.city)return N(!1);N(!0)},[j]),(0,r.jsxs)("div",{children:[r.jsx("button",{className:`${y("bg-blue-500 hover:bg-blue-400 text-white","hover:bg-gray-100")} border p-1 px-4 rounded mr-3`,onClick:()=>a(!0),children:y("Sign in","Sign up")}),r.jsx(o.Z,{open:t,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:r.jsx(l.Z,{sx:p,children:g?r.jsx("div",{className:"py-24 px-2 h-[600px] flex justify-center",children:r.jsx(m.Z,{})}):(0,r.jsxs)("div",{className:"p-2 h-[600px]",children:[f?r.jsx(h.Z,{severity:"error",className:"mb-4",children:f}):null,(0,r.jsxs)("div",{className:"uppercase font-bold text-center pb-2 border-b mb-2",children:[r.jsx("p",{className:"text-sm text-black",children:y("Sign in","Create Account")}),(0,r.jsxs)("p",{className:"text-black",children:[b?.firstName," ",b?.lastName]})]}),(0,r.jsxs)("div",{className:"m-auto",children:[r.jsx("h2",{className:"text-2xl font-light text-center text-black",children:y("Log Into Your Account","Create Your OpenTable Account")}),r.jsx(i,{inputs:j,handleChangeInput:e=>{v({...j,[e.target.name]:e.target.value})},isSignin:e}),r.jsx("button",{className:"uppercase bg-red-600 w-full text-white p-3 rounded text-sm mb-5 disabled:bg-gray-400",disabled:w,onClick:()=>{e?d({email:j.email,password:j.password},s):c(j,s)},children:y("Sign in","Create Account")})]})]})})})]})}function b(){let{data:e,loading:t}=(0,n.useContext)(u.AuthenticationContext),{signout:a}=x();return(0,r.jsxs)("nav",{className:"bg-white p-2 flex justify-between",children:[r.jsx(s.default,{href:"/",className:"font-bold text-gray-700 text-2xl",children:"OpenTable"}),r.jsx("div",{children:t?null:r.jsx("div",{className:"flex",children:e?r.jsx("button",{className:"bg-blue-500 hover:bg-blue-400 text-white border p-1 px-4 rounded mr-3",onClick:a,children:"Sign out"}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(g,{isSignin:!0}),r.jsx(g,{isSignin:!1})]})})})]})}},5308:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(5344),s=a(8428),n=a(3729);function l(){let e=(0,s.useRouter)(),[t,a]=(0,n.useState)("");return(0,r.jsxs)("div",{className:"text-left py-3 m-auto flex justify-center",children:[r.jsx("input",{className:"rounded text-lg mr-3 p-2 w-[450px] bg-white text-black",type:"text",placeholder:"State, city or town",value:t,onChange:e=>a(e.target.value)}),r.jsx("button",{className:"rounded bg-red-600 px-9 py-2",onClick:()=>{""!==t&&(e.push(`/search?city=${t}`),a(""))},children:"Let\xb4s Go"})]})}},5840:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AuthenticationContext:()=>o,default:()=>i});var r=a(5344),s=a(3608),n=a(1356),l=a(3729);let o=(0,l.createContext)({loading:!1,error:null,data:null,setAuthState:()=>{}});function i({children:e}){let[t,a]=(0,l.useState)({loading:!0,data:null,error:null}),i=async()=>{a({data:null,error:null,loading:!0});try{let e=(0,n.getCookie)("jwt");if(!e)return a({data:null,error:null,loading:!1});let t=await s.Z.get("http://localhost:3000/api/auth/me",{headers:{Authorization:`Bearer ${e}`}});s.Z.defaults.headers.common.Authorization=`Bearer ${e}`,a({data:t.data,error:null,loading:!1})}catch(e){a({data:null,error:e.response.data.errorMessage,loading:!1})}};return(0,l.useEffect)(()=>{i()},[]),r.jsx(o.Provider,{value:{...t,setAuthState:a},children:e})}},9021:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(5036),s=a(231);function n(){return r.jsx("div",{className:"h-64 bg-gradient-to-r from-[#0f1f47] to-[#5f6984] p-2 text-white",children:(0,r.jsxs)("div",{className:"text-center mt-10",children:[(0,r.jsxs)("h1",{className:"text-5xl font-bold mb-2",children:["Find your table for any occasion"," "]}),r.jsx(s.ZP,{})]})})}},231:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>l});let r=(0,a(6843).createProxy)(String.raw`/Users/diegosolerolguin/Documents/programming/udemy/udemy/app/components/SearchBar.tsx`),{__esModule:s,$$typeof:n}=r,l=r.default},9170:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(5036),s=a(6843);let n=(0,s.createProxy)(String.raw`/Users/diegosolerolguin/Documents/programming/udemy/udemy/app/components/NavBar.tsx`),{__esModule:l,$$typeof:o}=n,i=n.default,d=(0,s.createProxy)(String.raw`/Users/diegosolerolguin/Documents/programming/udemy/udemy/app/context/AuthContext.tsx`),{__esModule:c,$$typeof:u}=d,x=d.default;function m({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[r.jsx("head",{}),r.jsx("body",{children:r.jsx("main",{className:"bg-gray-100 min-h-screen w-screen text-black",children:r.jsx(x,{children:(0,r.jsxs)("main",{className:"max-w-screen-2xl m-auto bg-white",children:[r.jsx(i,{}),e]})})})})]})}(0,s.createProxy)(String.raw`/Users/diegosolerolguin/Documents/programming/udemy/udemy/app/context/AuthContext.tsx#AuthenticationContext`),a(7272),a(4264)},7984:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(5036);a(2);var s=a(9021);function n(){return(0,r.jsxs)("main",{children:[r.jsx(s.Z,{}),r.jsx("div",{className:"py-3 px-35 mt-10 flex flex-wrap justify-center",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(e=>r.jsx("div",{className:"animate-pulse bg-slate-200 w-64 h-72 m-3 rounded overflow-hidden border cursor-pointer"},e))})]})}},7272:()=>{}};